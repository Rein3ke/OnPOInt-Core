<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | %UNITY_WEB_NAME%</title>
    <script src="%UNITY_WEBGL_LOADER_URL%"></script>
    <script>
        const gameInstance = UnityLoader.instantiate("gameContainer", "%UNITY_WEBGL_BUILD_URL%");

        function ToggleLockState(_isLocked) {
            let lockState = "CursorLockMode.";
            if (_isLocked) {
                document.getElementById("gameContainer").requestPointerLock();
                document.getElementById("gameContainer").focus();
                lockState += "Locked";
            } else {
                lockState += "None";
                document.getElementById("gameContainer").blur();
            }
            console.log("Send to Unity: " + lockState);
            gameInstance.SendMessage('GameManager', 'SetLockState', lockState);
        }
    </script>
    <link rel="stylesheet" type="text/css" href="resources/css/bootstrap.min.css">
    <link rel="stylesheet" href="resources/css/gameContainer.css">
</head>

<body>

<div class="container">
    <!-- TopPanel -->
    <div class="row">
        <div class="col">
            <p>This is my awesome project! A whole new experience in web design and interactive graphics.</p>
        </div>
    </div>
</div>
<div class="container-fluid mt-4">
    <!-- GameContainer -->
    <div class="row">
        <div class="col-sm-2 col-12 mb-2 mb-sm-0">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Control Panel</h4>
                    <button class="btn btn-dark" id="optionButton" onclick="ToggleLockState(true)">Set Lockstate</button>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-8 col-sm-offset-2">
            <!-- width: %UNITY_WIDTH%px; height: %UNITY_HEIGHT%px;  -->
            <div id="gameContainer" oncontextmenu="ToggleLockState(false)" onclick="ToggleLockState(true)"></div>
        </div>
    </div>
</div>
<div class="container mt-4">
    <!-- BottomPanel -->
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title" id="poi_name">None</h4>
                    <p class="card-text" id="poi_description">Please look at a POI point.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="resources/js/jquery.js"></script>
<script src="resources/js/bootstrap.bundle.min.js"></script>

</body>

</html>